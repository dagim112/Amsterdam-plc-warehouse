<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Amsterdam PLC Warehouse</title>
  <!-- JsBarcode for barcode generation -->
<script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>
<!-- QuaggaJS for scanning -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/quagga/0.12.1/quagga.min.js"></script>
<style>
body {font-family: Arial; margin:0; background:#f2f4f7;}
.container{max-width:420px;margin:auto;padding:20px;}
.logo{text-align:center;font-size:26px;font-weight:bold;color:#ff7a00;}
.card{background:white;padding:20px;border-radius:10px;margin-top:20px;box-shadow:0 4px 10px rgba(0,0,0,0.1);}
h1{text-align:center;color:#1f3a5f;}
input, select{width:100%;padding:12px;margin-top:10px;font-size:16px;border-radius:6px;border:1px solid #ccc;}
button{width:100%;padding:14px;margin-top:12px;font-size:17px;border:none;border-radius:6px;background:#1f3a5f;color:white;}
.orange{background:#ff7a00;}
.hidden{display:none;}
.back{background:#999;}
.language-btn{margin:0 4px; padding:6px 12px; font-size:14px;}
#scanner-container{width:100%;height:200px; border:1px solid #ccc; margin-top:10px;}
</style>
</head>
<body>

<div class="container">

<!-- LOGIN -->
<div id="login" class="card">
  <div class="logo">Amsterdam PLC</div>
  <h1>Warehouse Login</h1>
  <input placeholder="Username" />
  <input type="password" placeholder="Password" />
  <button onclick="showDashboard()">LOGIN</button>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="card hidden">
  <h1>Dashboard</h1>

  <!-- LANGUAGE BUTTONS -->
  <div style="text-align:center; margin:10px 0;">
    <button class="language-btn" onclick="setLang('en')">EN</button>
    <button class="language-btn" onclick="setLang('am')">·ä†·àõ</button>
    <button class="language-btn" onclick="setLang('or')">OR</button>
  </div>

  <button class="orange" id="btnStockIn" onclick="showStockIn()">üì¶ Stock In</button>
  <button class="orange" id="btnStockOut" onclick="showStockOut()">üöö Stock Out</button>
  <button class="orange" id="btnScan" onclick="showScan()">üîç Scan Barcode</button>
  <button class="orange" id="btnReports">üìä Reports</button>
</div>

<!-- STOCK IN -->
<div id="stockin" class="card hidden">
  <h1>Stock In</h1>
  <input id="stockInBarcode" placeholder="Scan / Enter Barcode" />
  <input id="stockInPart" placeholder="Part Name" />
  <input type="number" id="stockInQty" placeholder="Quantity" />
  <input id="stockInSupplier" placeholder="Supplier" />
  <!-- Barcode generation -->
  <svg id="generatedBarcode"></svg>
  <button class="orange" onclick="generateBarcode()">Generate Barcode</button>
  <button class="orange" id="btnSaveIn">SAVE IN</button>
  <button class="back" onclick="showDashboard()">‚¨Ö Back</button>
</div>

<!-- STOCK OUT -->
<div id="stockout" class="card hidden">
  <h1>Stock Out</h1>
  <input id="stockOutBarcode" placeholder="Scan / Enter Barcode" />
  <input id="stockOutPart" placeholder="Part Name" />
  <input type="number" id="stockOutQty" placeholder="Quantity" />
  <input id="stockOutDest" placeholder="Destination / Customer" />
  <button class="orange" id="btnConfirmOut">CONFIRM OUT</button>
  <button class="back" onclick="showDashboard()">‚¨Ö Back</button>
</div>

<!-- SCAN BARCODE -->
<div id="scan" class="card hidden">
  <h1>Scan Barcode</h1>
  <input id="scanBarcode" placeholder="Scan or Enter Barcode" />
  <input id="scanPart" placeholder="Part Name (auto)" />
  <div id="scanner-container"></div>
  <button class="orange" onclick="startScanner()">Start Scanner</button>
  <button class="back" onclick="stopScanner()">Stop Scanner</button>
  <button class="orange" id="btnSaveScan">SAVE</button>
</div>

</div>

<script>
// HIDE / SHOW SCREENS
function hideAll(){
  document.getElementById("login").classList.add("hidden");
  document.getElementById("dashboard").classList.add("hidden");
  document.getElementById("stockin").classList.add("hidden");
  document.getElementById("stockout").classList.add("hidden");
  document.getElementById("scan").classList.add("hidden");
}
function showDashboard(){hideAll(); document.getElementById("dashboard").classList.remove("hidden");}
function showStockIn(){hideAll(); document.getElementById("stockin").classList.remove("hidden");}
function showStockOut(){hideAll(); document.getElementById("stockout").classList.remove("hidden");}
function showScan(){hideAll(); document.getElementById("scan").classList.remove("hidden");}

// MULTILINGUAL SUPPORT
const labels = {
  en: {
    login: "Warehouse Login", dashboard: "Dashboard",
    stockIn: "Stock In", stockOut: "Stock Out", scan: "Scan Barcode",
    saveIn: "SAVE IN", confirmOut: "CONFIRM OUT", save: "SAVE", back: "‚¨Ö Back",
    stockInBarcode: "Scan / Enter Barcode", stockInPart: "Part Name", stockInQty: "Quantity", stockInSupplier: "Supplier",
    stockOutBarcode: "Scan / Enter Barcode", stockOutPart: "Part Name", stockOutQty: "Quantity", stockOutDest: "Destination / Customer",
    scanBarcode: "Scan or Enter Barcode", scanPart: "Part Name (auto)"
  },
  am: {
    login: "·ã®·ä•·âÉ ·àõ·ãï·ä®·àç ·åç·â£", dashboard: "·ã≥·àΩ·â¶·à≠·ãµ",
    stockIn: "·åç·â¢ ·ä•·âÉ", stockOut: "·ãç·å™ ·ä•·âÉ", scan: "·â£·à≠·äÆ·ãµ ·àµ·ä´·äï",
    saveIn: "·ä†·àµ·âÄ·àù·å•", confirmOut: "·ä†·à®·åã·åç·å•", save: "·ä†·àµ·âÄ·àù·å•", back: "‚¨Ö ·ãà·ã∞ ·äã·àã",
    stockInBarcode: "·â£·à≠·äÆ·ãµ ·ä†·àµ·åà·â£ / ·àµ·ä´·äï", stockInPart: "·ã®·ä•·âÉ ·àµ·àù", stockInQty: "·â•·ãõ·âµ", stockInSupplier: "·ä†·âÖ·à´·â¢",
    stockOutBarcode: "·â£·à≠·äÆ·ãµ ·ä†·àµ·åà·â£ / ·àµ·ä´·äï", stockOutPart: "·ã®·ä•·âÉ ·àµ·àù", stockOutQty: "·â•·ãõ·âµ", stockOutDest: "·àò·ãµ·à®·àª / ·ã∞·äï·â†·äõ",
    scanBarcode: "·â£·à≠·äÆ·ãµ ·àµ·ä´·äï ·ãà·ã≠·àù ·ä†·àµ·åà·â£", scanPart: "·ã®·ä•·âÉ ·àµ·àù (·à´·àµ·à∞·à≠)"
  },
  or: {
    login: "Kuusaa Meeshaalee Seensa", dashboard: "Daashboordii",
    stockIn: "Seensa Meeshaa", stockOut: "Baasii Meeshaa", scan: "Baarkoodii Skaanii",
    saveIn: "Kuusaa", confirmOut: "Mirkaani", save: "Kuusaa", back: "‚¨Ö Gara Duraa",
    stockInBarcode: "Baarkoodii galchi / Skaanii", stockInPart: "Maqaa Meeshaa", stockInQty: "Baay'ina", stockInSupplier: "Kenniinsa",
    stockOutBarcode: "Baarkoodii galchi / Skaanii", stockOutPart: "Maqaa Meeshaa", stockOutQty: "Baay'ina", stockOutDest: "Iddoo / Kliyaanti",
    scanBarcode: "Baarkoodii Skaanii yookiin galchi", scanPart: "Maqaa Meeshaa (auto)"
  }
};

function setLang(lang){
  // LOGIN
  document.querySelector("#login h1").innerText = labels[lang].login;
  // DASHBOARD
  document.querySelector("#dashboard h1").innerText = labels[lang].dashboard;
  document.querySelector("#btnStockIn").innerText = labels[lang].stockIn;
  document.querySelector("#btnStockOut").innerText = labels[lang].stockOut;
  document.querySelector("#btnScan").innerText = labels[lang].scan;
  // STOCK IN
  document.querySelector("#stockin h1").innerText = labels[lang].stockIn;
  document.querySelector("#stockin button.orange").innerText = labels[lang].saveIn;
  document.querySelector("#stockin button.back").innerText = labels[lang].back;
  document.querySelector("#stockInBarcode").placeholder = labels[lang].stockInBarcode;
  document.querySelector("#stockInPart").placeholder = labels[lang].stockInPart;
  document.querySelector("#stockInQty").placeholder = labels[lang].stockInQty;
  document.querySelector("#stockInSupplier").placeholder = labels[lang].stockInSupplier;
  // STOCK OUT
  document.querySelector("#stockout h1").innerText = labels[lang].stockOut;
  document.querySelector("#stockout button.orange").innerText = labels[lang].confirmOut;
  document.querySelector("#stockout button.back").innerText = labels[lang].back;
  document.querySelector("#stockOutBarcode").placeholder = labels[lang].stockOutBarcode;
  document.querySelector("#stockOutPart").placeholder = labels[lang].stockOutPart;
  document.querySelector("#stockOutQty").placeholder = labels[lang].stockOutQty;
  document.querySelector("#stockOutDest").placeholder = labels[lang].stockOutDest;
  // SCAN BARCODE
  document.querySelector("#scan h1").innerText = labels[lang].scan;
  document.querySelector("#scan button.orange").innerText = labels[lang].save;
  document.querySelector("#scan button.back").innerText = labels[lang].back;
  document.querySelector("#scanBarcode").placeholder = labels[lang].scanBarcode;
  document.querySelector("#scanPart").placeholder = labels[lang].scanPart;
}

// ===== Barcode Generation =====
function generateBarcode() {
  const barcodeValue = document.getElementById("stockInBarcode").value || "123456789";
  JsBarcode("#generatedBarcode", barcodeValue, { format: "CODE128", width:2, height:50 });
}

// ===== Barcode Scanner =====
function startScanner() {
  Quagga.init({
    inputStream : {
      name : "Live",
      type : "LiveStream",
      target: document.querySelector('#scanner-container')
    },
    decoder : {
      readers : ["code_128_reader"]
    }
  }, function(err) {
      if (err) { console.log(err); return; }
      console.log("Quagga initialized");
      Quagga.start();
  });

  Quagga.onDetected(function(result) {
    const code = result.codeResult.code;
    document.getElementById("scanBarcode").value = code;
    console.log("Detected barcode: " + code);
    stopScanner();
  });
}

function stopScanner() {
  Quagga.stop();
  document.getElementById("scanner-container").innerHTML = "";
}
</script>
</body>
</html>
